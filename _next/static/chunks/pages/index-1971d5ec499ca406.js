(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(81283)}])},81283:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return L}});var a=s(14924),i=s(85893),n=s(67294),r=s(9008),o=s.n(r),h=s(98690),l=s.n(h),c=s(78945),d=s(41664),m=s.n(d),p=s(45697),g=s.n(p);let u=e=>{let{snapshot:t}=e;return(0,i.jsx)("div",{className:"react-thumbnail-generator",children:(0,i.jsx)("img",{src:t,className:"h-36 w-full"})})};class x extends n.Component{render(){let{renderThumbnail:e,snapshot:t,videoUrl:s}=this.state;return t?e?(0,i.jsx)(u,{snapshot:t}):null:(0,i.jsxs)("div",{className:"react-thumbnail-generator",children:[(0,i.jsx)("canvas",{className:"snapshot-generator",ref:"canvas"}),(0,i.jsx)("video",{muted:!0,className:"snapshot-generator",ref:"videoEl",src:s,onLoadedMetadata:()=>this.setState({metadataLoaded:!0}),onLoadedData:()=>this.setState({dataLoaded:!0}),onSuspend:()=>this.setState({suspended:!0}),onSeeked:()=>this.setState({seeked:!0})})]})}componentWillReceiveProps(e){let t=!1,s={};for(let a in e)e[a]===this.props[a]||(s[a]=e[a],t||(t=!0));t&&this.setState(s)}componentDidMount(){this.state.cors||this.refs.videoEl.setAttribute("crossOrigin","Anonymous")}componentDidUpdate(e,t){if(!this.state.snapshot){let{metadataLoaded:s,dataLoaded:a,suspended:i,seeked:n,snapshot:r,snapshotAtTime:o}=this.state;s&&a&&i&&((!this.refs.videoEl.currentTime||this.refs.videoEl.currentTime<this.state.snapshotAtTime)&&(this.refs.videoEl.currentTime=o),n&&!r&&this.getSnapShot())}}constructor(e){super(e),(0,a.Z)(this,"getSnapShot",()=>{try{let{width:e,height:t}=this.props,s=this.refs.videoEl,a=this.refs.canvas;a.height=s.videoHeight,a.width=s.videoWidth,e&&t?a.getContext("2d").drawImage(s,0,0,e,t):a.getContext("2d").drawImage(s,0,0);let i=a.toDataURL("image/png");s.src="",s.remove(),a.remove(),this.setState({snapshot:i}),this.state.thumbnailHandler&&this.state.thumbnailHandler(i)}catch(n){console.error(n)}}),this.state={dataLoaded:!1,metadataLoaded:!1,seeked:!1,snapshot:!1,suspended:!1,cors:e.cors,width:e.width,height:e.height,renderThumbnail:e.renderThumbnail,snapshotAtTime:e.snapshotAtTime,thumbnailHandler:e.thumbnailHandler,videoUrl:e.videoUrl}}}x.propTypes={cors:g().bool,width:g().number,height:g().number,renderThumbnail:g().bool,snapshotAtTime:g().number,thumbnailHandler:g().func,videoUrl:g().string.isRequired},x.defaultProps={cors:!1,renderThumbnail:!0,snapshotAtTime:2};let b=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,i=[];for(;a<=t;)i.push(a),a+=s;return i};class v extends n.Component{componentDidMount(){this.gotoPage(1)}render(){if(!this.totalRecords||1===this.totalPages)return null;let{currentPage:e}=this.state,t=this.fetchPageNumbers();return(0,i.jsx)("nav",{className:"border-t border-gray-200 px-4 flex items-center justify-center sm:px-0",children:t.map((t,s)=>(0,i.jsx)("div",{className:"hidden md:-mt-px md:flex",className:"page-item".concat(e===t?"active":""),children:(0,i.jsx)("div",{className:"border-transparent cursor-pointer text-gray-500 hover:text-gray-700 hover:border-gray-300 border-t-2 pt-4 px-4 inline-flex items-center text-sm font-medium",onClick:e=>this.handleClick(t,e),children:t})},s))})}constructor(e){super(e),(0,a.Z)(this,"gotoPage",e=>{let{onPageChanged:t=e=>e}=this.props,s=Math.max(0,Math.min(e,this.totalPages)),a={currentPage:s,totalPages:this.totalPages,pageLimit:this.pageLimit,totalRecords:this.totalRecords};this.setState({currentPage:s},()=>t(a))}),(0,a.Z)(this,"handleClick",(e,t)=>{t.preventDefault(),this.gotoPage(e)}),(0,a.Z)(this,"handleMoveLeft",e=>{e.preventDefault(),this.gotoPage(this.state.currentPage-2*this.pageNeighbours-1)}),(0,a.Z)(this,"handleMoveRight",e=>{e.preventDefault(),this.gotoPage(this.state.currentPage+2*this.pageNeighbours+1)}),(0,a.Z)(this,"fetchPageNumbers",()=>{let e=this.totalPages,t=this.state.currentPage,s=this.pageNeighbours,a=2*this.pageNeighbours+3;if(e>a+2){let i=[],n=t-s,r=t+s,o=n>2?n:1,h=r<e?r:e;i=b(o,h);let l=i.length,c=a-l-1,d=o>2,m=h<e,p="LEFT",g="RIGHT";if(d&&!m){let u=b(o-c,o-1);i=[p,...u,...i]}else if(!d&&m){let x=b(h+1,h+c);i=[...i,...x,g]}else d&&m&&(i=[p,...i,g]);return i}return b(1,e)});let{totalRecords:t=null,pageLimit:s=30,pageNeighbours:i=0}=e;this.pageLimit="number"==typeof s?s:30,this.totalRecords="number"==typeof t?t:0,this.pageNeighbours="number"==typeof i?Math.max(0,Math.min(i,2)):0,this.totalPages=Math.ceil(this.totalRecords/this.pageLimit),this.state={currentPage:1}}}v.propTypes={totalRecords:g().number.isRequired,pageLimit:g().number,pageNeighbours:g().number,onPageChanged:g().func};class f extends n.Component{onPageChanged(e){let{content:t}=this.state,{currentPage:s,pageLimit:a,totalPages:i}=e,n=(s-1)*a,r=this.props.contentObj.slice(n,n+a);this.setState({currentPage:s,currentData:r,totalPages:i,offset:n,pageLimit:a})}render(){let e=this.props.contentObj,t=this.props.accessKey,s=this.props.bucketName,{totalPages:a,currentPage:n}=this.state,r=e.length;if(0===r)return null;let o=(this.state.currentPage-1)*this.state.pageLimit,h=this.props.contentObj.slice(o,o+this.state.pageLimit);return(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"bg-white",children:(0,i.jsxs)("div",{className:"max-w-max",children:[(0,i.jsxs)("div",{className:"md:flex md:items-center md:justify-between",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Hot Videos"}),(0,i.jsxs)("a",{href:"#",className:"hidden text-sm font-medium text-indigo-600 hover:text-indigo-500 md:block",children:["Show All",(0,i.jsx)("span",{"aria-hidden":"true",children:" â†’"})]})]}),(0,i.jsx)("div",{className:"mt-6 grid grid-cols-2 gap-x-4 gap-y-10 sm:gap-x-6 md:grid-cols-4 md:gap-y-0 lg:gap-x-8",children:h.map(e=>"mp4"===e.Key.split(/\./).pop()?(0,i.jsxs)("div",{className:"group relative",children:[(0,i.jsx)("div",{className:"h-36 w-full overflow-hidden rounded-md bg-gray-200 group-hover:opacity-75 lg:h-32 xl:h-32 mt-3",children:(0,i.jsx)(x,{videoUrl:"".concat("https://link.storjshare.io/s/").concat(t.access_key_id,"/").concat(s,"/").concat(e.Key,"?view"),thumbnailHandler:e=>e,renderThumbnail:!0})}),(0,i.jsx)("h3",{className:"mt-4 text-sm text-gray-700",children:(0,i.jsxs)(m(),{href:"/video/".concat(t.access_key_id,"/").concat(s,"/").concat(e.Key),children:[(0,i.jsx)("span",{className:"absolute inset-0"}),e.Key.split(/\//).pop()]})}),(0,i.jsx)("p",{className:"mt-1 text-xs font-light italic text-gray-500",children:"File Sharing With IPFS"})]},e.Key):(0,i.jsx)("div",{hidden:!0}))}),(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(v,{totalRecords:r,pageLimit:12,pageNeighbours:1,onPageChanged:this.onPageChanged.bind(this)})})]})})})}constructor(e){super(e),this.state={totalData:[],currentPage:null,totalPages:null}}}var j=s(92844),y=s(77092),N=s(93447);let P="13xlabsvideodecentralized",w=new(l()).S3({accessKeyId:"jvyqfzwo3pimna5axmruyhgfjria",secretAccessKey:"jzcy7rztizu6uyrnwwkmmg32nryolqlggzanshgzk246lbeudvzrs",endpoint:"https://gateway.storjshare.io"});class k extends n.Component{classNames(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}componentDidMount(){w.listObjects({Bucket:P},(e,t)=>{e?console.log(e):this.setState({dataContent:t.Contents})}),c.Z.post("https://auth.storjshare.io/v1/access",{access_grant:"1UXqNMknhQFqDM1Qsm9gtF5jH1e99TNpoeFcqmhKF3d65FFnzv4L72GvAheLAKWWd6sXXbdHrKYvkjwczVjvzNYn1XHUNN8ifAd1vvHxWCiVvhaUsAZnhAWEZXExEu7PQgLZ3UyoWMJ3iJgmmUYM3C5xEd1XBXeLef3u565rhEYGu56md6hiBaihsTck7G782YB9FokJEtyx2cboZAdxJVA9y5j6HqPfaxn6VRTrhQFCLcMrLKy6oLpNtEbbUNfES3AN7sw62w9JXDy8JidL4GxqCfPd3knJKgC89Ktu9XsXydzo5Vv8BYqFk9b6uDTJ34Jf2bJ3vDDPCH3Px851AkVKS13NQz",public:!0}).then(e=>{this.setState({access:e.data})})}render(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{children:[(0,i.jsx)(N.Z,{}),(0,i.jsx)(y.Z,{}),(0,i.jsx)("div",{className:"md:pl-64",children:(0,i.jsxs)("div",{className:"mx-auto flex max-w-8xl flex-col md:px-8 xl:px-0 mr-10",children:[(0,i.jsx)(j.Z,{}),(0,i.jsx)("main",{className:"flex-1",children:(0,i.jsx)("div",{className:"py-6",children:(0,i.jsx)("div",{className:"px-4 sm:px-6 md:px-0",children:(0,i.jsx)(f,{contentObj:this.state.dataContent,accessKey:this.state.access,bucketName:P})})})})]})})]})})}constructor(e){super(e),(0,a.Z)(this,"setSidebarOpen",e=>{this.setState({sidebarOpen:!this.state.sidebarOpen})}),this.state={sidebarOpen:!0,dataContent:[],access:null}}}class L extends n.Component{render(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:"Video Decentralized | 13X Labs"}),(0,i.jsx)("meta",{name:"description",content:"Video Decentralized store IPFS by 13XLabs. 13X Labs is a R&D Technology company focusing on blockchain, dApp, Web3, Storage3, etc."}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("meta",{property:"og:image",content:"./logo.png"}),(0,i.jsx)("meta",{property:"twitter:image",content:"./logo.png"}),(0,i.jsx)("meta",{property:"og:image:type",content:"image/png"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)("main",{children:(0,i.jsx)(k,{})})]})}constructor(e){super(e),(0,a.Z)(this,"componentDidMount",()=>{})}}},9008:function(e,t,s){e.exports=s(83121)},28022:function(){}},function(e){e.O(0,[586,769,573,737,774,888,179],function(){return e(e.s=75557)}),_N_E=e.O()}]);